        // Production Summary Functions (OTC data) — uses shared renderer
        async function loadProductionSummary(apiNumber) {
            console.log('[ProductionSummary] Loading for API:', apiNumber);
            loadOTCProduction(apiNumber, {
                container: document.getElementById('wellProductionSummary')
            });
        }

        // Decimal Interest Functions (OTC decimal_equivalent data)
        async function loadDecimalInterest(apiNumber) {
            console.log('[DecimalInterest] Loading for API:', apiNumber);
            const container = document.getElementById('decimal-interest-container');
            const badge = document.getElementById('decimal-interest-badge');

            container.innerHTML = '<div style="text-align: center; padding: 12px; color: #6b7280; font-size: 14px;">Loading decimal data...</div>';

            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 8000);

                const response = await fetch(`/api/wells/${apiNumber}/decimal-interest`, {
                    credentials: 'include',
                    signal: controller.signal
                });
                clearTimeout(timeoutId);

                if (!response.ok) throw new Error(`HTTP ${response.status}`);

                const data = await response.json();
                console.log('[DecimalInterest] Data received:', data);

                const section = document.querySelector('.decimal-interest-section');
                const ent = window._currentWellEnterprise || {};
                const hasUserInterest = ent.wi_nri || ent.ri_nri || ent.orri_nri;
                const hasOtcData = data.hasData && data.decimals && data.decimals.length > 0;

                if (hasUserInterest) {
                    section.style.display = '';
                    renderDecimalInterest(data, ent);
                    // Show badge with count of user interests
                    const count = (ent.wi_nri ? 1 : 0) + (ent.ri_nri ? 1 : 0) + (ent.orri_nri ? 1 : 0);
                    badge.textContent = count;
                    badge.style.display = '';
                    badge.style.background = '#dbeafe';
                    badge.style.color = '#1e40af';
                    // Auto-expand when data exists
                    const content = document.getElementById('decimal-interest-content');
                    const arrow = document.getElementById('decimal-interest-arrow');
                    if (content.style.display === 'none') {
                        content.style.display = 'block';
                        arrow.style.transform = 'rotate(90deg)';
                    }
                } else {
                    // Hide the entire section when no user interest data
                    section.style.display = 'none';
                }
            } catch (error) {
                console.error('[DecimalInterest] Error:', error);
                // On error, still show user enterprise interest if available
                const ent = window._currentWellEnterprise || {};
                const hasUserInterest = ent.wi_nri || ent.ri_nri || ent.orri_nri;
                const section = document.querySelector('.decimal-interest-section');
                if (hasUserInterest) {
                    section.style.display = '';
                    renderDecimalInterest({ decimals: [] }, ent);
                    const content = document.getElementById('decimal-interest-content');
                    const arrow = document.getElementById('decimal-interest-arrow');
                    if (content.style.display === 'none') {
                        content.style.display = 'block';
                        arrow.style.transform = 'rotate(90deg)';
                    }
                } else {
                    section.style.display = 'none';
                }
            }
        }

        function renderDecimalInterest(data, enterprise) {
            const container = document.getElementById('decimal-interest-container');
            const monthNames = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

            const formatMonth = (ym) => {
                if (!ym) return 'N/A';
                const year = ym.substring(0, 4);
                const month = parseInt(ym.substring(4, 6), 10);
                return `${monthNames[month - 1]} ${year}`;
            };

            const ent = enterprise || {};
            const hasUserInterest = ent.wi_nri || ent.ri_nri || ent.orri_nri;

            let html = '';

            // Your Interest section (from enterprise data)
            if (hasUserInterest) {
                html += `<div style="padding: 8px 0 10px;">
                    <div style="font-size: 11px; font-weight: 600; color: #059669; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 6px;">Your Interest</div>`;
                const interestTypes = [
                    { label: 'WI NRI', value: ent.wi_nri },
                    { label: 'RI NRI', value: ent.ri_nri },
                    { label: 'ORRI NRI', value: ent.orri_nri }
                ];
                for (const item of interestTypes) {
                    if (item.value) {
                        html += `
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 3px 0;">
                            <span style="color: #6b7280; font-size: 13px;">${item.label}:</span>
                            <span style="font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Mono', monospace; font-size: 14px; font-weight: 600; color: #059669;">${parseFloat(item.value).toFixed(8)}</span>
                        </div>`;
                    }
                }
                html += `</div>`;
            }

            if (!hasUserInterest) {
                html += `<div style="color: #6b7280; font-size: 14px; padding: 12px 0;">No interest data on file for this well.</div>`;
            }

            container.innerHTML = html;
        }

        function renderNoDecimalData() {
            const container = document.getElementById('decimal-interest-container');
            container.innerHTML = `
                <div style="color: #6b7280; font-size: 14px; padding: 12px 0;">
                    No interest data on file for this well.
                </div>
            `;
        }

        function toggleDecimalInterest() {
            const content = document.getElementById('decimal-interest-content');
            const arrow = document.getElementById('decimal-interest-arrow');
            if (content.style.display === 'none') {
                content.style.display = 'block';
                arrow.style.transform = 'rotate(90deg)';
            } else {
                content.style.display = 'none';
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        // renderProductionSummary removed — now handled by shared renderOTCProduction()
